# 雷霆战机 - 需求文档

## 介绍

雷霆战机是一个完整的2D射击游戏，包含15个关卡、BOSS战、关卡选择、暂停菜单等丰富功能。玩家控制战斗机在屏幕上移动，自动发射子弹击败敌机，通过不断挑战更高难度的关卡来获得高分。

## 项目状态

🎯 **项目完成度**: 100%
📅 **最后更新**: 2025年1月
✅ **所有核心需求和拓展功能均已实现**

### 完成状态总览
- ✅ **核心需求 (1-12)**: 全部完成
- ✅ **拓展需求 (13-18)**: 全部完成
- ✅ **总计18个需求**: 100%完成率

## 需求

### 需求 1 - 玩家飞机控制

**用户故事：** 作为玩家，我希望能够控制我的战斗机在屏幕上移动，这样我就能够躲避敌方攻击并调整射击位置。

#### 验收标准

1. 当玩家按下方向键或WASD键时，系统应该让玩家飞机向对应方向移动
2. 当玩家飞机移动到屏幕边界时，系统应该阻止飞机移出屏幕范围
3. 当游戏开始时，系统应该将玩家飞机放置在屏幕底部中央位置

### 需求 2 - 自动射击系统

**用户故事：** 作为玩家，我希望我的战斗机能够自动发射子弹，这样我就能专注于移动和躲避而不需要手动射击。

#### 验收标准

1. 当游戏运行时，系统应该让玩家飞机每隔固定时间间隔自动发射子弹
2. 当子弹发射时，系统应该让子弹从玩家飞机位置向屏幕上方移动
3. 当子弹移出屏幕上边界时，系统应该移除该子弹对象

### 需求 3 - 生命值系统

**用户故事：** 作为玩家，我希望我的战斗机有生命值，这样游戏就有挑战性和失败条件。

#### 验收标准

1. 当游戏开始时，系统应该给玩家飞机设置初始生命值（如3条命）
2. 当玩家飞机与敌方飞机或敌方子弹碰撞时，系统应该减少玩家生命值
3. 当玩家生命值归零时，系统应该结束游戏并显示游戏结束画面
4. 当游戏运行时，系统应该在屏幕上显示当前剩余生命值

### 需求 4 - 敌方飞机系统

**用户故事：** 作为玩家，我希望有敌方飞机出现并提供挑战，这样游戏就有目标和乐趣。

#### 验收标准

1. 当游戏运行时，系统应该定期在屏幕上方随机位置生成敌方飞机
2. 当敌方飞机生成后，系统应该让敌方飞机向屏幕下方移动
3. 当敌方飞机移出屏幕下边界时，系统应该移除该敌方飞机对象
4. 当玩家子弹击中敌方飞机时，系统应该移除该敌方飞机和子弹

### 需求 5 - 碰撞检测系统

**用户故事：** 作为玩家，我希望游戏能够准确检测碰撞，这样击中敌机和受到伤害的反馈是准确的。

#### 验收标准

1. 当玩家子弹与敌方飞机重叠时，系统应该检测到碰撞并触发相应事件
2. 当玩家飞机与敌方飞机重叠时，系统应该检测到碰撞并减少玩家生命值
3. 当检测到碰撞时，系统应该移除相关的游戏对象

### 需求 6 - 评分系统

**用户故事：** 作为玩家，我希望有评分系统来记录我的游戏表现，这样我就有动力提高游戏技巧。

#### 验收标准

1. 当游戏开始时，系统应该将玩家分数初始化为0
2. 当玩家击毁一架敌方飞机时，系统应该增加玩家分数
3. 当游戏运行时，系统应该在屏幕上实时显示当前分数
4. 当游戏结束时，系统应该显示最终分数

### 需求 7 - 游戏界面和状态

**用户故事：** 作为玩家，我希望有清晰的游戏界面和状态显示，这样我就能了解当前游戏情况。

#### 验收标准

1. 当游戏运行时，系统应该显示游戏画面、分数、生命值等信息
2. 当游戏开始前，系统应该显示开始界面或直接进入游戏
3. 当游戏结束时，系统应该显示游戏结束界面和最终分数
4. 当游戏结束后，系统应该提供重新开始游戏的选项

### 需求 8 - 关卡系统 ✅

**用户故事：** 作为玩家，我希望游戏有多个关卡和难度递增，这样我能体验到持续的挑战和成就感。

#### 验收标准

1. 当游戏包含15个关卡时，系统应该提供逐步递增的难度
2. 当每3关时，系统应该生成BOSS敌机而不是普通敌机
3. 当完成关卡时，系统应该显示关卡完成提示并进入下一关
4. 当击败BOSS时，系统应该给予额外奖励（如生命值+1）

### 需求 9 - 关卡选择界面 ✅

**用户故事：** 作为玩家，我希望能够选择已解锁的关卡，这样我可以重复挑战喜欢的关卡。

#### 验收标准

1. 当游戏启动时，系统应该提供关卡选择界面
2. 当显示关卡时，系统应该区分普通关卡和BOSS关卡的视觉效果
3. 当关卡未解锁时，系统应该禁用该关卡按钮
4. 当选择关卡时，系统应该直接进入对应关卡

### 需求 10 - 暂停菜单系统 ✅

**用户故事：** 作为玩家，我希望能够暂停游戏并访问游戏选项，这样我可以在需要时中断游戏。

#### 验收标准

1. 当按下ESC键时，系统应该暂停游戏并显示暂停菜单
2. 当在暂停菜单时，系统应该显示当前分数、关卡和生命值
3. 当在暂停菜单时，系统应该提供继续、重新开始、返回主菜单选项
4. 当再次按ESC键时，系统应该直接恢复游戏

### 需求 11 - 敌机类型多样化 ✅

**用户故事：** 作为玩家，我希望遇到不同类型的敌机，这样游戏更有趣味性和挑战性。

#### 验收标准

1. 当游戏进行时，系统应该生成多种类型的敌机（基础、快速、坚固、射击、锯齿、正弦）
2. 当关卡提升时，系统应该解锁新的敌机类型
3. 当不同敌机时，系统应该有不同的移动模式和属性
4. 当击败不同敌机时，系统应该给予不同的分数奖励

### 需求 12 - 音频系统 ✅

**用户故事：** 作为玩家，我希望游戏有音效和背景音乐，这样能增强游戏体验。

#### 验收标准

1. 当游戏运行时，系统应该播放背景音乐
2. 当发生射击、爆炸、受伤事件时，系统应该播放对应音效
3. 当玩家需要时，系统应该提供静音功能
4. 当游戏状态改变时，系统应该相应地控制音频播放

## 🚀 拓展功能需求

### 需求 13 - 武器升级系统 ✅

**用户故事：** 作为玩家，我希望能够升级我的武器，这样我能获得更强的火力来应对更难的敌机。

#### 验收标准

1. 当玩家击败敌机时，系统应该有概率掉落武器升级道具
2. 当玩家拾取武器升级道具时，系统应该升级玩家的武器等级
3. 当武器升级时，系统应该改变射击模式（单发→双发→三发→散射→激光）
4. 当武器达到最高等级时，系统应该提供分数奖励而不是继续升级

### 需求 14 - 道具系统 ✅

**用户故事：** 作为玩家，我希望游戏中有各种道具，这样能增加游戏的策略性和趣味性。

#### 验收标准

1. 当击败敌机时，系统应该随机掉落各种道具（武器升级、护盾、生命恢复、分数加倍）
2. 当玩家拾取道具时，系统应该立即应用道具效果
3. 当道具有持续时间时，系统应该显示剩余时间并在到期时移除效果
4. 当道具掉落时，系统应该在一定时间后自动消失

### 需求 15 - 粒子效果系统 ✅

**用户故事：** 作为玩家，我希望游戏有炫酷的视觉效果，这样能增强游戏的沉浸感。

#### 验收标准

1. 当敌机被击毁时，系统应该播放爆炸粒子效果
2. 当玩家飞机移动时，系统应该显示推进器火焰效果
3. 当子弹发射时，系统应该显示子弹轨迹效果
4. 当背景滚动时，系统应该显示星空粒子效果

### 需求 16 - 成就系统 ✅

**用户故事：** 作为玩家，我希望有成就系统来记录我的游戏里程碑，这样能增加游戏的长期吸引力。

#### 验收标准

1. 当玩家完成特定条件时，系统应该解锁对应成就（如"新手飞行员"、"王牌飞行员"）
2. 当成就解锁时，系统应该显示成就通知和奖励
3. 当玩家查看成就时，系统应该显示所有成就的进度和状态
4. 当成就完成时，系统应该给予分数或其他奖励

### 需求 17 - 排行榜系统 ✅

**用户故事：** 作为玩家，我希望能看到我的最佳成绩记录，这样我能挑战自己的历史最高分。

#### 验收标准

1. 当游戏结束时，系统应该保存玩家的分数到本地存储
2. 当显示排行榜时，系统应该显示最高分、最长生存时间、最高连击数
3. 当创造新记录时，系统应该高亮显示并给予特殊奖励
4. 当查看排行榜时，系统应该显示详细的游戏统计信息

### 需求 18 - 无尽模式 ✅

**用户故事：** 作为玩家，我希望有无尽挑战模式，这样我能测试自己的极限并获得更高分数。

#### 验收标准

1. 当选择无尽模式时，系统应该提供无限关卡的挑战
2. 当关卡进行时，系统应该逐渐增加敌机密度和难度
3. 当玩家生存时间越长时，系统应该给予更高的分数倍率
4. 当玩家死亡时，系统应该记录生存时间和最终分数